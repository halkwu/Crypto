"""
Custom scalar for ISO date/time strings
"""
scalar Date

"""
Represents a generated wallet entry matching `SolanaWalletInfo` in `solana.ts`
"""
type SolanaWalletInfo {
  label: String!
  address: String!
  PrivateKey: [Int!]!
  createdAt: Date!
}

"""
Balance object returned by `getBalanceObject`
"""
type BalanceObject {
  address: String!
  network: String!
  balance: Float!
  currency: String!
}

"""
Single transaction entry returned by `getTxs` (fields mirror `solana.ts` output)
"""
type TxItem {
  Signature: ID!
  time: Date
  from: String
  to: String
  amount: Float
  fee: Float
  currency: String
  status: String
  balance: Float
}

"""
Wrapper for transaction list returned by `getTxs`
"""
type TxList {
  address: String!
  network: String!
  txs: [TxItem!]!
}

"""
Result returned by `sendTransaction`
"""
type SendResult {
  Signature: ID!
  time: Date
  from: String!
  to: String!
  amount: Float!
  fee: Float
  currency: String!
  status: String!
  balance: Float
}

input PaginationInput {
  limit: Int = 1000
}

type Query {
  "Get balance for an address (uses `getBalanceObject`)."
  balance(address: String!): BalanceObject!

  "Fetch recent transactions for an address (uses `getTxs`)."
  txs(address: String!, limit: Int): TxList!

  "Generate keypair(s) programmatically (maps to `generateKeypairs`)."
  generateWallets(count: Int = 1, label: String): [SolanaWalletInfo!]!
}

type Mutation {
  "Send SOL from a private key to recipient (maps to `sendTransaction`)."
  send(senderSecret: String!, recipient: String!, amount: Float): SendResult!
}
